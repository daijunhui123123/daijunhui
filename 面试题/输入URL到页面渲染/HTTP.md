# HTTP  超文本传输协议  / 0.9

- 基于TCP/IP通信协议来传递数据
- 只有请求行  GET/ index.html 
- 以ASCII字符流的编码方式进行传输  

# HTTP 1.0  1996.05

- 0.9 的缺点： 支持html一种类型的资源传输  


js，css，图片，音频，视频各种类型资源  

- 请求头   
  accept ：text/html  
  accept-encoding  ： gzip  deflat  br 
  accept-language  ： zh-CN   


- 响应头   ：

  content-type  ： text/html  
  content-encoding  ： gzip  deflat  br



- 为了传输不同的类型资源而诞生的



# HTTP 1.1  1997.06


- http 持久连接，减轻了服务器压力

- 同时最多能维护6个tcp连接

- 队头阻塞
  1. 前一个HTTP请求没有得到响应，后一个HTTP请求必须等待
  
- HOST
   
   
- 响应头中 
 1.0    Content-Length：1024


 后端动态内容生成，无法确定数据大小


 1.1    Transfer-Encoding：chunked：将资源文件处理成若干个数据块并编辑数据块大小，最后发送一个
      标记为0的数据块，表示数据发送完毕









# Http 2.0  2015.05

- 1.1 缺点：
  1. 队头阻塞
  2. 带宽利用率低
     1) 同时开始多条持久连接，相互之间会竞争宽带
     2) TCP 慢启动
     3   


- 一次只能维持一个tcp长链接

  - 多路复用
  将每一个请求处理成一帧一帧的请求片段，并给每一帧打上标记，服务端
  接收到所有的帧之后，将标记相同的帧合成并为一个完整请求，在响应该请求，响应体 
  同样处理成一阵一阵传输 


## HTTPS

HTTP + SSL/TLS

对称加密：双方都要拥有相同的密钥，密钥用于数据的加密和解密，如何让双方传递密钥是一个问题，
使用网络传输一旦在传输密钥的阶段被截取，接下的加密就没有意义

非对称加密：
  首先服务器创建公钥和私钥将，并将公钥发布出去，那么客户端也就晓得公钥，客户端创建一个密钥，
  通过公钥加密将密钥传给客户端，服务端通过独有的私钥解密密钥，这样客户端和服务端就都拥有密钥了




## HTTP /3.0

  2.0 的缺点：
  1.   TCP 队头阻塞:当存在数据包丢失时，TCP回重传一个新的包，在新包传递前，后续的数据包会被暂停传输

  2. TCP 握手 也是时间的开销

  
- TCP协议僵化   

   

- 改UDP协议  ----QUIC协议：
    1. 在UDP上实现了 TCP的拥塞控制，可靠性传输 
    2. 集成了TLS加密
    3. 实现了多路复用
    4. 快事握手  



    





# 回流
  修改一个元素的几何属性会导致回流
  1. 修改宽高
  2. 页面初次渲染
  3. 添加，删除元素
  4. 改变窗口大小  

  # 浏览器的优化策列

    当我们修改一个元素的几何属性时，浏览器会重新计算元素的几何属性，
    浏览器会维护一个渲染队列，将需要回流的操作存入队列中，等到后续没有

    回流行为或者达到繁殖时，会一次性将队列中的行为全部执行



    offsetxxxxxxxx
    clientxxxxxxxx
    


    会导致渲染队列强制刷新


  # js加载执行会阻止DOM的渲染
   1. 在script标签中上加   async 该js的加载就不会阻塞html得渲染  

   2. 在script标签中上加 defer 



   # js操作dom慢 ？

   1. dom结构在js引擎眼里有很庞大得属性
   2. js引擎和渲染引擎是互斥得，一旦js修改dom操作过多，


   
  