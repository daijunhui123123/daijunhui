<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input type="text" id="unDebounce">
    <script>
        const inputA = document.getElementById('unDebounce')
        //执行的太频繁啦     服务器就挂啦   
        function ajax(concent) {
            console.log('ajax request', concent)
        }
        inputA.addEventListener('keyup', function () {
            // 内部的逻辑比较复杂
            let value = this.value
            // 封装一个函数来拆分
            // > 10 行代码  拆分成多个函数
            debounceAjax(value)
        })
        //   一端时间就执行一次
        function debounce(fn, delay) {
            // 闭包  fn   delay 自由变量  
            return function (args) {
                //  控制
                // fn()
                // let  that = this;
                clearTimeout(fn.id


                )
                fun.id = setTimeout(function () {
                    fn()
                }, delay)
            }
        }
        let debounceAjax = debounce(ajax, 2000)
    </script>
</body>

</html>